# HerbTrail Game Rules

## 1- 地块 [tile]

    1-1 类型 

        1-1-1 平原 [plain]：
            平原上可以生长植物 [plant]；
            平原是一种特殊的植物；
            平原不会蔓延；
            平原可以被收获并提供大量资源，被收获时其上的植物也视作被收获，被收获后成为海域；

        1-2-1 海域 [seawater]：无法生长植物，会蔓延；
            1-2-1-1 蔓延 [spread]：如下图所示，x代表下回合蔓延的水域，#代表现存的水域

            i):   x #
                  # x
              
            ii):  # x #

            iii): #
                    x
                      #

            iv):（生成概率为p=0.5）
                    #
                  x # x
                    #

    1-2 属性 [property]

        1-2-1 肥力 [fertility]：提升该地块上的植物生产的资源值和降低果实生成周期；
            1-2-1-1 肥力等级
                肥力等级有3种级别：degree 0、1、2；
                肥力等级越高，该地块上结成的果实产生的资源值越高，生成周期越短；
                平台树坠下的平台若坠入海中，肥力等级为0；
                平台树坠下的平台若坠至平原，肥力等级增加1；


        
***
## 2、 收获 [harvest]

    任何植物的根、节点或者果实都可以被收获；
    收获获得资源 [resource]；
    收获需要花费资源；
***
## 3、 植物 [plant]

    3-1 植物构成

        3-1-1 根 [root]：
            根会在平原上于回合开始时随机生成 [generate]；
            根向周围的平原蔓延节点；
            提供养分使得与其相连的节点和果实不会枯萎死亡；
            有些根会结出果实；
            根被收获后提供资源；

        3-1-2 节点 [branch]：
            节点会向周围的平原蔓延节点；
            节点被收获时，与其相连的枝条 [twig]也会消失；
            有些节点会结出果实；
            节点上若有果实，收获节点时也会将果实收获（平台树除外）；

        3-1-3 果实 [fruit]：
            果实被收获后提供大量的资源；
            果实有存在时限，没有被收获的果实可以提升地块肥力；
            果实每隔一段时间后会结出；
        
    3-2 植物行为

        3-2-1 蔓延 [spread]：根或者节点会往其枝条指向的方向生成节点，没有枝条就不会蔓延；
            3-2-1-1 蔓延类型 [spread type]：↑→↓←代表枝条指向，@代表根,#代表节点，格式为 [@|#] -[ [0-4][,↑]?[,→]?[,↓]?[,←]? ] 或简略表示为[@|#]? -[ [type]-[1-5] ]

            i) type-1:
                ex:  #-[1,↑]
            ii) type-2:
                ex:  #-[2,↑,→]  #-[2,↑,↓]
            iii) type-3:
                ex:  #-[3,↑,→,↓]  #-[3,↑,→,←]
            iv) type-4:
                ex:  @-[4,↑,→,↓,←]
            v) type-5:
                ex:  #-[0]

            3-2-1-2 蔓延规则：格式为 [0.0-1.0|absolute|high|medium|low][spread type]+[0.0-1.0|absolute|high|medium|low|--] 第一个数值代表生成蔓延类型的概率，第二个数值代表下回合蔓延的概率 

        3-2-2 枯萎 [wither]：
            若植物的部分失去与根的连接，则会逐渐枯萎；
            若植物的部分被阴影 [shadow]笼罩，则会枯萎；
            枯萎后的植物会提升该地块的肥力；
            若植物的部分被水淹没，则该部分会枯萎；
    
    3-3 植物种类

        3-3-1 平台树 [platform tree]：
            平台树的节点和果实处于高处[sky layer]；
            平台树的根和节点都会生成果实，且没有生成周期，自然情况下永久存在，且根和节点一旦生成，其上的果实也会立刻生成，若果实被收获也不会再生成；
            平台树的果实会向其下方的地块投下阴影；
            平台树的节点或根被收获时其上的果实不会被收获，而是会下坠，若坠入海中，则形成平原，若坠至平原，则会使平原上的植物枯萎；
            平台树的节点或根枯萎时，其上的果实也会下坠，下坠规则如上；
            平台树的蔓延几率较低:
                high type-4 type-3 type-1 low
                low type-2 type-0 low
            平台树的生成几率较低；
            
        3-3-2 障碍荆棘 [obstacle thorn]:
            障碍荆棘不会结出果实；
            障碍荆棘任何部分被收获都不会获得资源；
            障碍荆棘覆盖的地块不会被海域蔓延；
            障碍荆棘的蔓延几率较高:
                high type-4 type-3 absolute
                medium type-2 type-1 absolute
                low type type-0 --
            障碍荆棘的生成几率较低；

        3-3-3 丰收灌木 [harvest bush]:
            丰收灌木的根上会结出果实；
            丰收灌木的任何部分周围一圈不能有其他植物存在，否则会枯萎；
            丰收灌木蔓延的地块周围一圈不能有其他植物存在，否则不会蔓延；
            丰收灌木的蔓延几率极低:
                high type-2 type-1 absolute
                medium type-5 type-4 type-0 absolute
            丰收灌木的生成几率中等；

        3-3-4 丰收藤蔓 [harvest vine]:
            丰收藤蔓的根或节点，当其周围4个地块都有节点，且这些节点存在枝条与该根或节点相连时，就会结出果实；
            丰收藤蔓的蔓延几率较高:
                high type-4 type-3 #-type-1  absolute
                low #-type-2 #-type-5 absolute              
            丰收藤蔓的生成几率中等； 
***
## 4、 功能按钮
    4- 按钮类型
        4-1 点击：
            可以拖动屏幕；
            点击地块可以查看相关属性：
                i) 肥力等级；
                ii) 其上的植物类型和部位；
                iii)
            点击植物可以查看相关属性；

        4-2 Tab：
            切换当前所在层数；

        4-3 收获：
            可以收获；
            点击格子后，可以选择收获其上的地块或者根或者果实（若存在的话）；
            收获立刻生效；

        4-4 回合结束：
            点击后回合结束，植物和海域开始蔓延；
